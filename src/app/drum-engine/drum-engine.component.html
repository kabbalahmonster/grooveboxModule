
<!----- SIDE MENU BEGIN ------------------------------------------------------------------------>
<ion-split-pane contentId="menu-content">
  <ion-menu
    contentId="menu-content"
    menuId="menu-content"
    side="start"
    type="overlay"
  >
    <ion-header>
      <ion-toolbar>
        <ion-title>Nicky Fuzzbox</ion-title>
        <b>WebGrooveBox v1.0</b>
      </ion-toolbar>
    </ion-header>
    <ion-content>
      <ion-list>
        <ion-item>
          <ion-button
            (click)="this.selectedView = 'Core'"
            expand="block"
            fill="clear"
            shape="round"
          >
            Core
          </ion-button>
        </ion-item>
        <ion-item>
          <ion-button
            (click)="this.selectedView = 'Drum'"
            expand="block"
            fill="clear"
            shape="round"
          >
            Drum
          </ion-button>
        </ion-item>

        <ion-item>
          <ion-button
            (click)="this.selectedView = 'Effects'"
            expand="block"
            fill="clear"
            shape="round"
          >
            Effects
          </ion-button>
        </ion-item>
      </ion-list>
    </ion-content>
  </ion-menu>
  <ion-content id="menu-content">
    <!---- SIDE MENU ENDS---------------------------------------------------------------------------->

    <!------- PAGE HEADER -------------------------------------------------------------------------------------->
    <ion-header>
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>{{ this.selectedView }}</ion-title></ion-toolbar
      ></ion-header>
      <!------------------------------------------------------------------------------------------->



    <ion-grid class="drum-all">


      <!-----  CORE BEGINS   -------------------------------------------------------------------------->
      <ion-row [hidden]="this.selectedView != 'Core'">
        <ion-col size="12">
          <ion-label>Clock Speed : {{ this.BPM }} b.p.m.</ion-label>
          <ion-range
            (ionChange)="updateBPM()"
            type="range"
            min="0"
            max="240"
            [(ngModel)]="this.BPM"
          ></ion-range>
        </ion-col>
      </ion-row>
      <!------CORE ENDS ---------------------------------------------------------------------------->

      <!----  DRUM BEGINS --------------------------------------------------------------------------->
      <ion-row [hidden]="this.selectedView != 'Drum'">
        <ion-col size="12">
          <ion-row>
            <ion-col size="12">
              <ion-button
                color="light"
                class="fz-btn"
                (click)="
                  drumSynth.triggerAttackRelease(
                    this.notes[this.noteIndex],
                    time
                  )
                "
                >TRIGGER DRUM</ion-button
              >
              <ion-button
                [disabled]="this.looping"
                color="light"
                class="fz-btn"
                (click)="setup()"
                >START LOOP</ion-button
              >
              <ion-button
                [disabled]="!this.looping"
                color="light"
                class="fz-btn"
                (click)="stopLoop()"
                >STOP LOOP</ion-button
              >
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col>
              <ion-label
                >Loop Interval :
                {{ this.loopInterval[this.intervalIndex] }}</ion-label
              >
              <ion-range [disabled]="!this.looping"
                snaps
                ticks
                (ionChange)="updateInterval()"
                type="range"
                min="0"
                [max]="this.loopInterval.length - 1"
                [(ngModel)]="this.intervalIndex"
              ></ion-range>


              <ion-label>Arpeggiator : {{ this.arpInterval }}</ion-label>
              <ion-range [disabled]="!this.looping"
                snaps
                ticks
                min="-12"
                max="12"
                [(ngModel)]="this.arpInterval"
              ></ion-range>              

              <ion-label>Note : {{ this.notes[this.noteIndex] }}</ion-label>
              <ion-range
                snaps
                ticks
                (ionChange)="updateNote()"
                type="range"
                min="0"
                [max]="this.notes.length - 1"
                [(ngModel)]="this.noteIndex"
              ></ion-range>

              <ion-label
                >Wave Form : {{ this.waveList[this.waveIndex] }}</ion-label
              >
              <ion-range
                snaps
                ticks
                (ionChange)="updateWave()"
                type="range"
                min="0"
                [max]="this.waveList.length - 1"
                [(ngModel)]="this.waveIndex"
              ></ion-range>

              <ion-label>Amp. Env. Decay : {{ this.envDecay }}s</ion-label>
              <ion-range
                (ionChange)="updateEnvelope()"
                type="range"
                step="0.001"
                min="0.001"
                max="5"
                [(ngModel)]="this.envDecay"
              ></ion-range>

              <ion-label
                >Pitch Env. Decay : {{ this.envPitchDecay }}s</ion-label
              >
              <ion-range
                (ionChange)="updatePitchEnvelope()"
                type="range"
                step="0.001"
                min="0.001"
                max="5"
                [(ngModel)]="this.envPitchDecay"
              ></ion-range>
            </ion-col>
          </ion-row>
        </ion-col>
      </ion-row>
      <!-------DRUM ENDS  --------------------------------------------------------------------------->

      <!-----  EFFECTS BEGINS ----------------------------------------------------------------------->
      <ion-row [hidden]="this.selectedView != 'Effects'">
        <ion-col>
          <ion-toggle
            (ionChange)="updatePitchShifterToggle()"
            [(ngModel)]="this.pitchShifterToggle"
          ></ion-toggle>

          <ion-label>Pitch Shifter : {{ this.pitch }} semitones</ion-label>
          <ion-range
            [disabled]="!this.pitchShifterToggle"
            snaps
            ticks
            (ionChange)="updatePitch()"
            type="range"
            min="-12"
            max="12"
            [(ngModel)]="this.pitch"
          ></ion-range>

          <ion-toggle
            (ionChange)="updateBitCrusherToggle()"
            [(ngModel)]="this.bitCrusherToggle"
          ></ion-toggle>

          <ion-label>Bit Crusher : {{ this.bitrate }}-Bit</ion-label>
          <ion-range
            [disabled]="!this.bitCrusherToggle"
            snaps
            ticks
            (ionChange)="updateBit()"
            type="range"
            min="1"
            max="8"
            [(ngModel)]="this.bitrate"
          ></ion-range>
        </ion-col>
      </ion-row>
      <!-----      EFFECTS ENDS    ----------------------------------------------------------------->
    </ion-grid>

    <!--- END OF SIDE MENU --------------------------------------------------------------------------->
  </ion-content>
</ion-split-pane>
